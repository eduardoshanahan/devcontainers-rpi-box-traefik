# 2026-01-02

- Work started for the day.
- Reviewed the repo structure, roles, and templates to identify risks.
- Logged findings around missing Docker preflight checks, Traefik log level override, and whoami_host validation.
- Implemented a centralized docker_preflight role and added it ahead of app roles.
- Updated Traefik Compose to use TRAEFIK_LOG_LEVEL instead of hardcoded DEBUG.
- Added explicit whoami_host domain-suffix validation to prevent split errors.
- Updated the Traefik role to auto-run mkcert -install when the local CA is missing.
- Updated docs to note mkcert auto-install and Docker/Compose prerequisites.
- Added Traefik dashboard HTTPS routing via host_vars and dynamic config validation.
- Updated CA install docs and moved default CA hosts into scripts/ca-hosts.txt.
- Added automatic target cert replacement when the CA fingerprint changes.
- Documented Brave trust-store issue and manual import workaround in documentation/diary/references/brave_cert_trust_issue.md.
- Added global HTTP to HTTPS redirect in Traefik static config.
- Box 03 deploy completed successfully; follow-up focused on Brave trust-store behavior.
