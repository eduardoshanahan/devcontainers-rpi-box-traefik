# Devcontainer configuration (.env.example)
#
# Copy to `.env` and edit values for your machine:
#   cp .env.example .env
#
# Keep `.env` out of version control (it often contains host-specific paths and secrets).

# User Configuration
# ==================
HOST_USERNAME=your_username
HOST_UID=1000
HOST_GID=1000

# Project identity
# =================
PROJECT_NAME=devcontainers-rpi-box-traefik
EDITOR_CHOICE=code
LOCALE=en_IE.UTF-8

# Container Configuration
# =======================
WORKSPACE_FOLDER=/workspace

# Host workspace helpers (optional)
WORKSPACE_TMUX_SESSION=${PROJECT_NAME}
WORKSPACE_REMOTE_HOST=
WORKSPACE_ALLOW_IN_CONTAINER=false
SMOKE_GROUP=
DEVCONTAINER_IMAGE_RETENTION_DAYS=7
KEEP_CONTAINER_DEVCONTAINER=false
KEEP_CONTAINER_CLAUDE=false
KEEP_CONTAINER_EDITOR=false
FORCE_REBUILD=false
FORCE_PULL=false
DEVCONTAINER_CONTEXT=devcontainer

# Container hostname (shown in prompt / used as docker hostname)
CONTAINER_HOSTNAME_EDITOR=${PROJECT_NAME}-${EDITOR_CHOICE}
CONTAINER_HOSTNAME_DEVCONTAINER=${PROJECT_NAME}-devcontainer
CONTAINER_HOSTNAME_CLAUDE=${PROJECT_NAME}-claude
CONTAINER_HOSTNAME=${CONTAINER_HOSTNAME_EDITOR}

# Container resource limits
CONTAINER_MEMORY=6g
CONTAINER_CPUS=4
CONTAINER_SHM_SIZE=4g

# Git Configuration
# ================
GIT_USER_NAME="Your Name"
GIT_USER_EMAIL="you@example.com"

# This layer typically sets GIT_REMOTE_URL because sync-git.sh is part of the workflow.
GIT_REMOTE_URL=

# Git SSH host used by verify-git-ssh.sh (optional; defaults to git@github.com)
GIT_SSH_HOST=git@github.com

GIT_SYNC_REMOTES="origin"
GIT_SYNC_PUSH_REMOTES=""
BRANCH=
# Optional: per-remote URLs used when a remote name in GIT_SYNC_REMOTES is missing.
GIT_REMOTE_URL_ORIGIN=
GIT_REMOTE_URL_LAN=

# Docker Configuration
# ====================
DOCKER_IMAGE_NAME=${PROJECT_NAME}-${EDITOR_CHOICE}
DOCKER_IMAGE_TAG=latest

# Ansible Configuration (paths + SSH)
# ===================================
ANSIBLE_CONFIG=${WORKSPACE_FOLDER}/src/ansible.cfg
ANSIBLE_INVENTORY=${WORKSPACE_FOLDER}/src/inventory/hosts.ini
ANSIBLE_COLLECTIONS_PATH=${WORKSPACE_FOLDER}/src/collections:/home/${HOST_USERNAME}/.ansible/collections
ANSIBLE_ROLES_PATH=${WORKSPACE_FOLDER}/src/roles
ANSIBLE_USER=pi
ANSIBLE_SSH_PRIVATE_KEY_FILE=~/.ssh/id_ed25519

# Name Resolution (FQDN scheme)
# =============================
# FQDN scheme: service.box.domain
SITE_DOMAIN=example.home.arpa
NAME_RESOLUTION_MODE=dns
DNS_PREFLIGHT_CHECK=controller
HOSTS_SNIPPET_OUTPUT_FILE=${WORKSPACE_FOLDER}/hosts-snippet.txt

# Traefik Configuration (optional role defaults)
# ==============================================
TRAEFIK_ENABLED=true
TRAEFIK_IMAGE=traefik:v3.6.6
TRAEFIK_CONTAINER_NAME=traefik
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_WEB_PORT=8080
TRAEFIK_DASHBOARD_ENABLED=true
TRAEFIK_DASHBOARD_BASIC_AUTH_ENABLED=false
TRAEFIK_DASHBOARD_BASIC_AUTH_USERS=""
TRAEFIK_DASHBOARD_IP_ALLOWLIST_ENABLED=false
TRAEFIK_DASHBOARD_IP_ALLOWLIST=""
TRAEFIK_ADMIN_SECURITY_HEADERS_ENABLED=true
TRAEFIK_ADMIN_BASIC_AUTH_ENABLED=false
TRAEFIK_ADMIN_BASIC_AUTH_USERS=""
TRAEFIK_ADMIN_IP_ALLOWLIST_ENABLED=false
TRAEFIK_ADMIN_IP_ALLOWLIST=""
TRAEFIK_DOCKER_NETWORK=web
TRAEFIK_STACK_DIR=/srv/apps/traefik
TRAEFIK_CONFIG_DIR=/srv/apps/traefik/config
TRAEFIK_DATA_DIR=/srv/apps/traefik/data
TRAEFIK_CERT_DIR=/srv/apps/traefik/certs
TRAEFIK_CERT_FILE=
TRAEFIK_KEY_FILE=
TRAEFIK_LOCAL_CERT_DIR=${WORKSPACE_FOLDER}/certs
TRAEFIK_SYSTEMD_AUTOSTART=false
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_FORCE_REGEN_CERT=false
TRAEFIK_DOCKER_API_VERSION=1.52
TRAEFIK_DOCKER_HOST=unix:///var/run/docker.sock

# Whoami Test App Configuration (optional)
# ========================================
WHOAMI_IMAGE=traefik/whoami:v1.10.1
WHOAMI_CONTAINER_NAME=whoami
WHOAMI_PORT=80
WHOAMI_DOCKER_NETWORK=web
WHOAMI_STACK_DIR=/srv/apps/whoami
WHOAMI_VERIFY_ENABLED=true
WHOAMI_VERIFY_DELAY_SECONDS=5
WHOAMI_VERIFY_RETRIES=10
WHOAMI_VERIFY_RETRY_DELAY=3
WHOAMI_VERIFY_USE_TRAEFIK_API=false

# CA share (optional)
# ===================
CA_SHARE_ENABLED=false
CA_SHARE_IMAGE=nginx:alpine
CA_SHARE_CONTAINER_NAME=ca-share
CA_SHARE_STACK_DIR=/srv/apps/ca-share
CA_SHARE_DOCKER_NETWORK=web

# Tooling pins (used by the devcontainer build)
# =============================================
ANSIBLE_CORE_VERSION=2.17.*
ANSIBLE_LINT_VERSION=25.12.1
YAMLLINT_VERSION=1.35.*

# Claude Code (build-time opt-in)
# ===============================
INSTALL_CLAUDE=false
CLAUDE_INSTALL_SHA256=

# Codex / OpenAI (optional; keep secret values out of `.env.example`)
OPENAI_API_KEY=
